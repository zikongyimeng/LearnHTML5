var $jscomp={scope:{},inherits:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}},module$cn$ucai$game2d$events$G2DEvent={},G2DEvent$$module$cn$ucai$game2d$events$G2DEvent=function(a,b){this._type=a;this._data=b};G2DEvent$$module$cn$ucai$game2d$events$G2DEvent.prototype.getType=function(){return this._type};
G2DEvent$$module$cn$ucai$game2d$events$G2DEvent.prototype.getData=function(){return this._data};var $jscompDefaultExport$$module$cn$ucai$game2d$events$G2DEvent=G2DEvent$$module$cn$ucai$game2d$events$G2DEvent;module$cn$ucai$game2d$events$G2DEvent["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$events$G2DEvent;var module$cn$ucai$game2d$events$G2DMouseEvent={},G2DMouseEvent$$module$cn$ucai$game2d$events$G2DMouseEvent=function(a,b){module$cn$ucai$game2d$events$G2DEvent["default"].call(this,a,b)};$jscomp.inherits(G2DMouseEvent$$module$cn$ucai$game2d$events$G2DMouseEvent,module$cn$ucai$game2d$events$G2DEvent["default"]);G2DMouseEvent$$module$cn$ucai$game2d$events$G2DMouseEvent.CLICK="click";var $jscompDefaultExport$$module$cn$ucai$game2d$events$G2DMouseEvent=G2DMouseEvent$$module$cn$ucai$game2d$events$G2DMouseEvent;
module$cn$ucai$game2d$events$G2DMouseEvent["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$events$G2DMouseEvent;var module$cn$ucai$game2d$events$G2DEventDispatcher={},G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher=function(){this._listeners=new Map};G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher.prototype.addEventListener=function(a,b){var c=this._listeners.get(a);c||(c=[],this._listeners.set(a,c));c.push(b)};
G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher.prototype.removeEventListener=function(a,b){var c=this._listeners.get(a);if(c)if(b){var d=c.indexOf(b);-1!=d&&c.splice(d,1)}else c.length=0};G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher.prototype.dispatchEvent=function(a){var b=this._listeners.get(a.getType());if(b&&0<b.length)for(var c=0;c<b.length;c++)b[c](a)};var $jscompDefaultExport$$module$cn$ucai$game2d$events$G2DEventDispatcher=G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher;
module$cn$ucai$game2d$events$G2DEventDispatcher["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$events$G2DEventDispatcher;var module$cn$ucai$game2d$display$Display={},Display$$module$cn$ucai$game2d$display$Display=function(){module$cn$ucai$game2d$events$G2DEventDispatcher["default"].call(this);this.y=this.x=0;this.scaleY=this.scaleX=1;this.rotation=0;this._enabled=!0;this._parent=null};$jscomp.inherits(Display$$module$cn$ucai$game2d$display$Display,module$cn$ucai$game2d$events$G2DEventDispatcher["default"]);
Display$$module$cn$ucai$game2d$display$Display.prototype.internal_draw=function(a){a.save();a.translate(this.x,this.y);a.scale(this.scaleX,this.scaleY);a.rotate(this.rotation);this.onDraw(a);a.restore()};Display$$module$cn$ucai$game2d$display$Display.prototype.hitTestPoint=function(a,b){return!1};Display$$module$cn$ucai$game2d$display$Display.prototype.getGlobalX=function(){var a=this.getParent();return a?a.getGlobalX()+this.x:0};
Display$$module$cn$ucai$game2d$display$Display.prototype.internal_onClick=function(a){this.isEnabled()&&this.hitTestPoint(a.layerX,a.layerY)&&this.dispatchEvent(new module$cn$ucai$game2d$events$G2DMouseEvent["default"](module$cn$ucai$game2d$events$G2DMouseEvent["default"].CLICK))};Display$$module$cn$ucai$game2d$display$Display.prototype.setEnabled=function(a){this._enabled=a};Display$$module$cn$ucai$game2d$display$Display.prototype.isEnabled=function(){return this._enabled};
Display$$module$cn$ucai$game2d$display$Display.prototype.internal_setParent=function(a){this._parent=a};Display$$module$cn$ucai$game2d$display$Display.prototype.getParent=function(){return this._parent};var $jscompDefaultExport$$module$cn$ucai$game2d$display$Display=Display$$module$cn$ucai$game2d$display$Display;module$cn$ucai$game2d$display$Display["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$display$Display;var module$cn$ucai$game2d$display$Rectangle={},Rectangle$$module$cn$ucai$game2d$display$Rectangle=function(a,b,c){module$cn$ucai$game2d$display$Display["default"].call(this);this._width=a;this._height=b;this._color=c};$jscomp.inherits(Rectangle$$module$cn$ucai$game2d$display$Rectangle,module$cn$ucai$game2d$display$Display["default"]);Rectangle$$module$cn$ucai$game2d$display$Rectangle.prototype.onDraw=function(a){a.fillStyle=this._color;a.fillRect(0,0,this._width,this._height)};
Rectangle$$module$cn$ucai$game2d$display$Rectangle.prototype.hitTestPoint=function(a,b){return a>this.getGlobalX()&&b>this.getGlobalY()&&a<this.getGlobalX()+this._width&&b<this.getGlobalY()+this._height};var $jscompDefaultExport$$module$cn$ucai$game2d$display$Rectangle=Rectangle$$module$cn$ucai$game2d$display$Rectangle;module$cn$ucai$game2d$display$Rectangle["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$display$Rectangle;var module$cn$ucai$game2d$display$Text={},Text$$module$cn$ucai$game2d$display$Text=function(a,b,c,d){module$cn$ucai$game2d$display$Display["default"].call(this);this._fontSize=b||10;this._fontFamily=c||"sans-serif";this._color=d||"#000000";this.generateFontString();this._text=a};$jscomp.inherits(Text$$module$cn$ucai$game2d$display$Text,module$cn$ucai$game2d$display$Display["default"]);Text$$module$cn$ucai$game2d$display$Text.prototype.setText=function(a){this._text=a};
Text$$module$cn$ucai$game2d$display$Text.prototype.getText=function(){return this._text};Text$$module$cn$ucai$game2d$display$Text.prototype.generateFontString=function(){this._font="${this._fontSize}px ${this._fontFamily}"};Text$$module$cn$ucai$game2d$display$Text.prototype.getFont=function(){return this._font};Text$$module$cn$ucai$game2d$display$Text.prototype.getFontSize=function(){return this._fontSize};Text$$module$cn$ucai$game2d$display$Text.prototype.getFontFamily=function(){return this._fontFamily};
Text$$module$cn$ucai$game2d$display$Text.prototype.setFontSize=function(a){this._fontSize=a;this.generateFontString()};Text$$module$cn$ucai$game2d$display$Text.prototype.setFontFamily=function(a){this._fontFamily=a;this.generateFontString()};Text$$module$cn$ucai$game2d$display$Text.prototype.setColor=function(a){this._color=a};Text$$module$cn$ucai$game2d$display$Text.prototype.getColor=function(){return this._color};
Text$$module$cn$ucai$game2d$display$Text.prototype.onDraw=function(a){a.font=this._font;a.fillStyle=this._color;a.fillText(this._text,0,this._fontSize)};var $jscompDefaultExport$$module$cn$ucai$game2d$display$Text=Text$$module$cn$ucai$game2d$display$Text;module$cn$ucai$game2d$display$Text["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$display$Text;var module$cn$ucai$game2d$display$Container={},Container$$module$cn$ucai$game2d$display$Container=function(){module$cn$ucai$game2d$display$Display["default"].call(this);this._children=[]};$jscomp.inherits(Container$$module$cn$ucai$game2d$display$Container,module$cn$ucai$game2d$display$Display["default"]);
Container$$module$cn$ucai$game2d$display$Container.prototype.addChild=function(a){if(-1==this._children.indexOf(a))this._children.push(a),a.internal_setParent(this);else throw Error("The child is already in this container");};Container$$module$cn$ucai$game2d$display$Container.prototype.removeChild=function(a){var b=this._children.indexOf(a);-1!=b&&(this._children.splice(b,1),a.internal_setParent(null))};
Container$$module$cn$ucai$game2d$display$Container.prototype.onDraw=function(a){for(var b=0;b<this._children.length;b++)this._children[b].internal_draw(a)};Container$$module$cn$ucai$game2d$display$Container.prototype.internal_onClick=function(a){for(var b=0;b<this._children.length;b++)this._children[b].internal_onClick(a)};var $jscompDefaultExport$$module$cn$ucai$game2d$display$Container=Container$$module$cn$ucai$game2d$display$Container;module$cn$ucai$game2d$display$Container["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$display$Container;var module$cn$ucai$game2d$app$Game2dApp={},Game2dApp$$module$cn$ucai$game2d$app$Game2dApp=function(a,b){module$cn$ucai$game2d$display$Container["default"].call(this);this._stageWidth=a;this._stageHeight=b;this._canvas=document.createElement("canvas");this._canvas.width=this._stageWidth;this._canvas.height=this._stageHeight;this._context2d=this._canvas.getContext("2d");this.addNativeListeners();this.render(0)};$jscomp.inherits(Game2dApp$$module$cn$ucai$game2d$app$Game2dApp,module$cn$ucai$game2d$display$Container["default"]);
Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.addNativeListeners=function(){this._canvas.onclick=function(a){this.internal_onClick(a)}.bind(this)};Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.getStageWidth=function(){return this._stageWidth};Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.getStageHeight=function(){return this._stageHeight};
Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.render=function(a){this._context2d.clearRect(0,0,this._stageWidth,this._stageHeight);this.internal_draw(this._context2d);requestAnimationFrame(this.render.bind(this))};Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.getDom=function(){return this._canvas};var $jscompDefaultExport$$module$cn$ucai$game2d$app$Game2dApp=Game2dApp$$module$cn$ucai$game2d$app$Game2dApp;module$cn$ucai$game2d$app$Game2dApp["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$app$Game2dApp;var module$cn$ucai$mygame$Game={},Game$$module$cn$ucai$mygame$Game=function(){module$cn$ucai$game2d$app$Game2dApp["default"].call(this,600,400);document.body.appendChild(this.getDom());this.testGlobalPosition()};$jscomp.inherits(Game$$module$cn$ucai$mygame$Game,module$cn$ucai$game2d$app$Game2dApp["default"]);
Game$$module$cn$ucai$mygame$Game.prototype.testGlobalPosition=function(){this._container=new module$cn$ucai$game2d$display$Container["default"];this._container.x=10;this._container.y=30;this._containerA=new module$cn$ucai$game2d$display$Container["default"];this._containerA.x=10;this._rect=new module$cn$ucai$game2d$display$Rectangle["default"](100,100,"#ff0000");this._rect.x=10;this._containerA.addChild(this._rect);this._container.addChild(this._containerA);this.addChild(this._container);console.log(this._rect.getGlobalX());
this._rect.addEventListener(module$cn$ucai$game2d$events$G2DMouseEvent["default"].CLICK,function(a){console.log(a)})};
Game$$module$cn$ucai$mygame$Game.prototype.simpleExample=function(){this._container=new module$cn$ucai$game2d$display$Container["default"];this._rect=new module$cn$ucai$game2d$display$Rectangle["default"](100,100,"#ff0000");this._rect.y=100;this._rect.scaleX=2;this._container.addChild(this._rect);this._text=new module$cn$ucai$game2d$display$Text["default"]("Hello World");this._text.setColor("#ff0000");this._container.addChild(this._text);this.addChild(this._container);this._container.x=100};new Game$$module$cn$ucai$mygame$Game;
var $jscompDefaultExport$$module$cn$ucai$mygame$Game=Game$$module$cn$ucai$mygame$Game;module$cn$ucai$mygame$Game["default"]=$jscompDefaultExport$$module$cn$ucai$mygame$Game;

//# sourceMappingURL=game.min.js.map
