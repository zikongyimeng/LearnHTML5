var $jscomp={scope:{},inherits:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}},module$cn$ucai$game2d$events$G2DEvent={},G2DEvent$$module$cn$ucai$game2d$events$G2DEvent=function(a,b){this._type=a;this._data=b;this._target=null};G2DEvent$$module$cn$ucai$game2d$events$G2DEvent.prototype.getType=function(){return this._type};
G2DEvent$$module$cn$ucai$game2d$events$G2DEvent.prototype.getData=function(){return this._data};G2DEvent$$module$cn$ucai$game2d$events$G2DEvent.prototype.internal_setTarget=function(a){this._target=a};G2DEvent$$module$cn$ucai$game2d$events$G2DEvent.prototype.getTarget=function(){return this._target};G2DEvent$$module$cn$ucai$game2d$events$G2DEvent.ENTER_FRAME="enterFrame";var $jscompDefaultExport$$module$cn$ucai$game2d$events$G2DEvent=G2DEvent$$module$cn$ucai$game2d$events$G2DEvent;
module$cn$ucai$game2d$events$G2DEvent["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$events$G2DEvent;var module$cn$ucai$game2d$events$G2DMouseEvent={},G2DMouseEvent$$module$cn$ucai$game2d$events$G2DMouseEvent=function(a,b){module$cn$ucai$game2d$events$G2DEvent["default"].call(this,a,b)};$jscomp.inherits(G2DMouseEvent$$module$cn$ucai$game2d$events$G2DMouseEvent,module$cn$ucai$game2d$events$G2DEvent["default"]);G2DMouseEvent$$module$cn$ucai$game2d$events$G2DMouseEvent.ENTER_FRAME=module$cn$ucai$game2d$events$G2DEvent["default"].ENTER_FRAME;
G2DMouseEvent$$module$cn$ucai$game2d$events$G2DMouseEvent.CLICK="click";var $jscompDefaultExport$$module$cn$ucai$game2d$events$G2DMouseEvent=G2DMouseEvent$$module$cn$ucai$game2d$events$G2DMouseEvent;module$cn$ucai$game2d$events$G2DMouseEvent["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$events$G2DMouseEvent;var module$cn$ucai$game2d$events$G2DEventDispatcher={},G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher=function(){this._listeners=new Map};G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher.prototype.addEventListener=function(a,b){var c=this._listeners.get(a);c||(c=[],this._listeners.set(a,c));c.push(b)};
G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher.prototype.removeEventListener=function(a,b){var c=this._listeners.get(a);if(c)if(b){var d=c.indexOf(b);-1!=d&&c.splice(d,1)}else c.length=0};G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher.prototype.dispatchEvent=function(a){var b=this._listeners.get(a.getType());if(b&&0<b.length)for(var c=0;c<b.length;c++)b[c](a)};var $jscompDefaultExport$$module$cn$ucai$game2d$events$G2DEventDispatcher=G2DEventDispatcher$$module$cn$ucai$game2d$events$G2DEventDispatcher;
module$cn$ucai$game2d$events$G2DEventDispatcher["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$events$G2DEventDispatcher;var module$cn$ucai$game2d$display$Display={},Display$$module$cn$ucai$game2d$display$Display=function(){module$cn$ucai$game2d$events$G2DEventDispatcher["default"].call(this);this.y=this.x=0;this.scaleY=this.scaleX=1;this.rotation=0;this._enabled=!0;this._parent=null;this._visible=!0};$jscomp.inherits(Display$$module$cn$ucai$game2d$display$Display,module$cn$ucai$game2d$events$G2DEventDispatcher["default"]);
Display$$module$cn$ucai$game2d$display$Display.prototype.internal_draw=function(a){this._visible&&(a.save(),a.translate(this.x,this.y),a.scale(this.scaleX,this.scaleY),a.rotate(this.rotation),this.onDraw(a),a.restore())};Display$$module$cn$ucai$game2d$display$Display.prototype.hitTestPoint=function(a,b){return!1};Display$$module$cn$ucai$game2d$display$Display.prototype.getGlobalX=function(){var a=this.getParent();return a?a.getGlobalX()+this.x:0};
Display$$module$cn$ucai$game2d$display$Display.prototype.getGlobalY=function(){var a=this.getParent();return a?a.getGlobalY()+this.y:0};Display$$module$cn$ucai$game2d$display$Display.prototype.setEnabled=function(a){this._enabled=a};Display$$module$cn$ucai$game2d$display$Display.prototype.isEnabled=function(){return this._enabled};Display$$module$cn$ucai$game2d$display$Display.prototype.getParent=function(){return this._parent};
Display$$module$cn$ucai$game2d$display$Display.prototype.setVisible=function(a){this._visible=a};Display$$module$cn$ucai$game2d$display$Display.prototype.isVisible=function(){return this._visible};Display$$module$cn$ucai$game2d$display$Display.prototype.internal_onClick=function(a){this.isEnabled()&&this.isVisible()&&this.hitTestPoint(a.layerX,a.layerY)&&(a=new module$cn$ucai$game2d$events$G2DMouseEvent["default"](module$cn$ucai$game2d$events$G2DMouseEvent["default"].CLICK),this.internal_dispatchEvent(a))};
Display$$module$cn$ucai$game2d$display$Display.prototype.internal_dispatchEvent=function(a){a.internal_setTarget(this);this.dispatchEvent(a);this.getParent()&&this.getParent().internal_dispatchEvent(a)};Display$$module$cn$ucai$game2d$display$Display.prototype.internal_setParent=function(a){this._parent=a};Display$$module$cn$ucai$game2d$display$Display.prototype.internal_enterFrame=function(a){this.isEnabled()&&this.isVisible()&&this.dispatchEvent(a)};
var $jscompDefaultExport$$module$cn$ucai$game2d$display$Display=Display$$module$cn$ucai$game2d$display$Display;module$cn$ucai$game2d$display$Display["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$display$Display;var module$cn$ucai$game2d$display$Rectangle={},Rectangle$$module$cn$ucai$game2d$display$Rectangle=function(a,b,c){module$cn$ucai$game2d$display$Display["default"].call(this);this._width=a;this._height=b;this._color=c};$jscomp.inherits(Rectangle$$module$cn$ucai$game2d$display$Rectangle,module$cn$ucai$game2d$display$Display["default"]);Rectangle$$module$cn$ucai$game2d$display$Rectangle.prototype.onDraw=function(a){a.fillStyle=this._color;a.fillRect(0,0,this._width,this._height)};
Rectangle$$module$cn$ucai$game2d$display$Rectangle.prototype.hitTestPoint=function(a,b){return a>this.getGlobalX()&&b>this.getGlobalY()&&a<this.getGlobalX()+this._width&&b<this.getGlobalY()+this._height};var $jscompDefaultExport$$module$cn$ucai$game2d$display$Rectangle=Rectangle$$module$cn$ucai$game2d$display$Rectangle;module$cn$ucai$game2d$display$Rectangle["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$display$Rectangle;var module$cn$ucai$game2d$display$Text={},Text$$module$cn$ucai$game2d$display$Text=function(a,b,c,d){module$cn$ucai$game2d$display$Display["default"].call(this);this._fontSize=b||10;this._fontFamily=c||"sans-serif";this._color=d||"#000000";this.generateFontString();this._text=a};$jscomp.inherits(Text$$module$cn$ucai$game2d$display$Text,module$cn$ucai$game2d$display$Display["default"]);Text$$module$cn$ucai$game2d$display$Text.prototype.setText=function(a){this._text=a};
Text$$module$cn$ucai$game2d$display$Text.prototype.getText=function(){return this._text};Text$$module$cn$ucai$game2d$display$Text.prototype.generateFontString=function(){this._font=this._fontSize+"px "+this._fontFamily};Text$$module$cn$ucai$game2d$display$Text.prototype.getFont=function(){return this._font};Text$$module$cn$ucai$game2d$display$Text.prototype.getFontSize=function(){return this._fontSize};Text$$module$cn$ucai$game2d$display$Text.prototype.getFontFamily=function(){return this._fontFamily};
Text$$module$cn$ucai$game2d$display$Text.prototype.setFontSize=function(a){this._fontSize=a;this.generateFontString()};Text$$module$cn$ucai$game2d$display$Text.prototype.setFontFamily=function(a){this._fontFamily=a;this.generateFontString()};Text$$module$cn$ucai$game2d$display$Text.prototype.setColor=function(a){this._color=a};Text$$module$cn$ucai$game2d$display$Text.prototype.getColor=function(){return this._color};
Text$$module$cn$ucai$game2d$display$Text.prototype.onDraw=function(a){a.font=this._font;a.fillStyle=this._color;a.fillText(this._text,0,this._fontSize)};var $jscompDefaultExport$$module$cn$ucai$game2d$display$Text=Text$$module$cn$ucai$game2d$display$Text;module$cn$ucai$game2d$display$Text["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$display$Text;var module$cn$ucai$game2d$display$Container={},Container$$module$cn$ucai$game2d$display$Container=function(){module$cn$ucai$game2d$display$Display["default"].call(this);this._children=[]};$jscomp.inherits(Container$$module$cn$ucai$game2d$display$Container,module$cn$ucai$game2d$display$Display["default"]);
Container$$module$cn$ucai$game2d$display$Container.prototype.addChild=function(a){if(-1==this._children.indexOf(a))this._children.push(a),a.internal_setParent(this);else throw Error("The child is already in this container");};Container$$module$cn$ucai$game2d$display$Container.prototype.removeChild=function(a){var b=this._children.indexOf(a);-1!=b&&(this._children.splice(b,1),a.internal_setParent(null))};Container$$module$cn$ucai$game2d$display$Container.prototype.getChildren=function(){return this._children};
Container$$module$cn$ucai$game2d$display$Container.prototype.getChildrenCount=function(){return this._children.length};Container$$module$cn$ucai$game2d$display$Container.prototype.getChildAt=function(a){return this._children[a]};Container$$module$cn$ucai$game2d$display$Container.prototype.removeAllChildren=function(){for(var a;this._children.length;)a=this._children.pop(),a.internal_setParent(null)};Container$$module$cn$ucai$game2d$display$Container.prototype.onDraw=function(a){for(var b=0;b<this._children.length;b++)this._children[b].internal_draw(a)};
Container$$module$cn$ucai$game2d$display$Container.prototype.internal_onClick=function(a){for(var b=0;b<this._children.length;b++)this._children[b].internal_onClick(a)};Container$$module$cn$ucai$game2d$display$Container.prototype.internal_enterFrame=function(a){for(var b=0;b<this._children.length;b++)this._children[b].internal_enterFrame(a);module$cn$ucai$game2d$display$Display["default"].prototype.internal_enterFrame.call(this,a)};
var $jscompDefaultExport$$module$cn$ucai$game2d$display$Container=Container$$module$cn$ucai$game2d$display$Container;module$cn$ucai$game2d$display$Container["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$display$Container;var module$cn$ucai$game2d$anim$Move={},Move$$module$cn$ucai$game2d$anim$Move=function(a,b,c,d,e){this._target=a;this._propertyName=b;this._from=c;this._to=d;this._frames=e;this._speed=(this._to-this._from)/this._frames;this._frameIndex=0;this._running=!1};
Move$$module$cn$ucai$game2d$anim$Move.prototype.start=function(){this._running||(this._frameIndex=0,this._target[this._propertyName]=this._from,this._target.addEventListener(module$cn$ucai$game2d$events$G2DEvent["default"].ENTER_FRAME,this.enterFrameHandler.bind(this)),this._running=!0)};
Move$$module$cn$ucai$game2d$anim$Move.prototype.enterFrameHandler=function(a){this._target[this._propertyName]+=this._speed;this._frameIndex++;this._frameIndex>=this._frames&&(this._target.removeEventListener(module$cn$ucai$game2d$events$G2DEvent["default"].ENTER_FRAME),this._running=!1,this._target[this._propertyName]=this._to)};var $jscompDefaultExport$$module$cn$ucai$game2d$anim$Move=Move$$module$cn$ucai$game2d$anim$Move;module$cn$ucai$game2d$anim$Move["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$anim$Move;var module$cn$ucai$game2d$app$Game2dApp={},Game2dApp$$module$cn$ucai$game2d$app$Game2dApp=function(a,b){module$cn$ucai$game2d$display$Container["default"].call(this);this._enterFrameEvent=new module$cn$ucai$game2d$events$G2DEvent["default"](module$cn$ucai$game2d$events$G2DEvent["default"].ENTER_FRAME);this._stageWidth=a;this._stageHeight=b;this._canvas=document.createElement("canvas");this._canvas.width=this._stageWidth;this._canvas.height=this._stageHeight;this._context2d=this._canvas.getContext("2d");
this.addNativeListeners();this.render(0)};$jscomp.inherits(Game2dApp$$module$cn$ucai$game2d$app$Game2dApp,module$cn$ucai$game2d$display$Container["default"]);Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.addNativeListeners=function(){this._canvas.onclick=function(a){this.internal_onClick(a)}.bind(this)};Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.getStageWidth=function(){return this._stageWidth};Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.getStageHeight=function(){return this._stageHeight};
Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.render=function(a){this.internal_enterFrame(this._enterFrameEvent);this._context2d.clearRect(0,0,this._stageWidth,this._stageHeight);this.internal_draw(this._context2d);requestAnimationFrame(this.render.bind(this))};Game2dApp$$module$cn$ucai$game2d$app$Game2dApp.prototype.getDom=function(){return this._canvas};var $jscompDefaultExport$$module$cn$ucai$game2d$app$Game2dApp=Game2dApp$$module$cn$ucai$game2d$app$Game2dApp;
module$cn$ucai$game2d$app$Game2dApp["default"]=$jscompDefaultExport$$module$cn$ucai$game2d$app$Game2dApp;var module$cn$ucai$demos$anim$AnimDemo={},AnimDemo$$module$cn$ucai$demos$anim$AnimDemo=function(){module$cn$ucai$game2d$app$Game2dApp["default"].call(this,400,300);document.body.appendChild(this.getDom());this._rect=new module$cn$ucai$game2d$display$Rectangle["default"](100,100,"red");this.addChild(this._rect);var a=new module$cn$ucai$game2d$anim$Move["default"](this._rect,"x",0,200,120);a.start();this._rect.addEventListener("click",function(b){a.start()})};
$jscomp.inherits(AnimDemo$$module$cn$ucai$demos$anim$AnimDemo,module$cn$ucai$game2d$app$Game2dApp["default"]);new AnimDemo$$module$cn$ucai$demos$anim$AnimDemo;var $jscompDefaultExport$$module$cn$ucai$demos$anim$AnimDemo=AnimDemo$$module$cn$ucai$demos$anim$AnimDemo;module$cn$ucai$demos$anim$AnimDemo["default"]=$jscompDefaultExport$$module$cn$ucai$demos$anim$AnimDemo;

//# sourceMappingURL=../src/animdemos.min.js.map
